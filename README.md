# My Portfolio Avcorad
액션 RPG
      
## 목차
1. 프로젝트 소개
2. 개발기간
3. 구현한 기능
4. 개발과정중 발생한 문제 및 해결한 방안
5. 개발중 느낀점
      

## 🎮Project 소개
다크소울 느낌의 액션 RPG를 지향
## 🕔개발기간
2022.11.14 ~ 2023.01.15

## 🏋️‍♀️구현 기능
이동, 공격, 스킬, 인벤토리, 락온, 퀵슬롯, 몬스터

## 개발 과정 중 발생 한 문제 및 해결 한 방안

### 캐릭터 구현

![opening](https://user-images.githubusercontent.com/109446729/212476935-d7977fcf-5e62-4ab6-9939-2a560a82e098.gif)
+ 이동 : GetAxis를 사용하여 플레이어의 이동을 구현하였습니다. 움직임에 따라 시점의 변화를 주기 위해 카메라가 마우스의 움직임에 따라 움직이게 하니 카메라만 움직이고 캐릭터는 움직이지 않는 상태가 되었습니다, 그래서 캐릭터에게 마우스축의 입력 값을 주니 좌우 회전은 되지만 위아래의 회전은 캐릭터가 회전하게되어 영 웃긴모양이 되었습니다. 그래서 캐릭터는 좌우 회전만, 카메라는 위아래 회전의 기능만 주어 캐릭터의 움직임과 시점을 해결하였습니다.

+ 공격 : 간단한 프로젝트들을 제작하며 원거리공격만 구현하다 보니 근접공격을 구현하면서 생각보다 많이 어렵다는것을 깨달았습니다. 공격이 1번만 들어 가야 하는데 여러번 들어 간다던지, 연속공격은 어떻게 구현해야 할 지 감도 잡히지 않았지만 구글 검색을 통해 animation에 event를 통해 공격이 들어가는 collider를 활성화 비활성화 하는 방안으로 구현하였고, 연속공격은 Sub - StateMachine을 통해 해결하였습니다.

![01](https://user-images.githubusercontent.com/109446729/212476746-43f45193-455b-4fb1-9b7e-1f31ef77d9ee.gif)![02](https://user-images.githubusercontent.com/109446729/212476818-e984f1d2-d282-4489-b8aa-bb7a814cab8e.gif)
+ 스킬 : 스킬은 5종류를 구현하였습니다. 객체 지향으로 구현하였으며 퀵슬롯에 등록하여 사용이 가능합니다. 구현하면서 어려웠던점은 인벤토리 부분에서 더 자세히 말씀드리겠으나 퀵슬롯에 등록된 스킬의 data를 가져 오는것이 가장 큰 문제였습니다. 처음엔 ScriptableObject를 사용하여 구현 하였었으나 data를 가져 오는것이 저에게는 너무 복잡해지는 부분이 있어 스킬을 list에 담고 리스트에 있는 스킬과 슬롯에 있는 스킬이 같으면 사용을 하게 구현하였습니다.

+ 인벤토리 : 인벤토리는 <https://geojun.tistory.com/62> 이곳과 <https://ansohxxn.github.io/unity%20lesson%203/ch5-2/> 이곳을 참고하여 제작하였습니다. 처음엔 드래그앤 드롭으로 장비를 장착하고 퀵슬롯에 등록하고를 구현하였었으나...그렇게 이동한 오브젝트의 data를 가져오는것이 정말 너무 힘이들었고 결국 드래그앤 드롭에서 노선을 변경하여 클릭시 장착버튼이 나오게 되어 아이템일경우는 장비장착 슬롯에 장착이되고, 물약이나 스킬같은경우는 퀵슬롯에 등록되게 구현하였습니다. 현재 이 인벤토리의 문제는 아이템들이 퀵슬롯으로 가거나, 장착 슬롯으로 가도 자리를 차지하고있어 새로운 아이템이 들어왔을때 비워진 칸을 채우는것이 아닌 그뒤로 채워진다는 점입니다...이문제는 우선 기간내 프로젝트의 완성이 제 1 우선사항이였기에 일단은 두고 다른기능들을 구현하였습니다.

+ 락온 : 특정키, 현재에서는 G키를 입력하면 ray를 쏴서 hit가 enemy일 경우 시네머신의 가상카메라의 LookAt이 hit된 enemy가 되게 구현하였습니다. 문제점은 뭔가 시점이 불편하고 자연스럽지 않다는 점입니다. 우선은 기간내 프로젝트의 완성이기에 추후에 완성도를 높일 계획입니다.

+ 퀵슬롯 : 물약이나, 스킬을 등록할수있습니다. 아이템의 object를 자식오브젝트로 이동시켜 등록기능을 구현하였습니다. 스킬이나 물약사용시 슬롯의 색상을 바꾸어 사용했다는 가시성을 주었습니다.

+ 몬스터 : 스크립트로 구현하려 했으나, 스크립트에서 속도를 주고 애니메이션을 재생하면 미끄러지듯이 움직이는것이 싫어 오로지 애니메이션으로만 구현하게 되었습니다. 그로인해 코드가 굉장히 지저분해지고 애니메이터 자체도 굉장히 지저분해져서 개발하는 본인조차도 헷갈리는 문제가 있습니다. 애니메이션의 경우 update로 구현하게되면 계속 애니메이션을 재생하게 되어 문제가 많았습니다. 그래서 프로퍼티로 상태를 받아와 해결하였습니다. 이부분도 기간이후 더 만져보면서 해결해볼 예정입니다.

![Honeycam 2023-01-02 07-47-10](https://user-images.githubusercontent.com/109446729/212476898-26e30cfa-557a-42af-b992-14f501a66ab4.gif)

## 개발중 느낀점

개발중 확실하게 느낀것은 확실한 계획이 필요하고, 어떤상태에서 어떻게 할것인지 대략적인 뼈대(알고리즘?)를 구상한뒤 구현하는것이 가장 중요하다는 것을 깨달았습니다. 지금은 그냥 이기능 구현해야지 저기능 구현해야지 라는 느낌으로만 제작하니 여러가지 버그들이 터지고...문제들이 많이 발생한거 같습니다. 그리고 우선 기능을 먼저 구현하고, 디테일을 잡아 나가는것이 맞다는 생각이 듭니다. 저의 첫 포트폴리오 작품이고, 엉성하고 아직 한참 멀었지만, 점점더 발전해서 더 나은 프로젝트들을 진행하면 좋을거같습니다.
